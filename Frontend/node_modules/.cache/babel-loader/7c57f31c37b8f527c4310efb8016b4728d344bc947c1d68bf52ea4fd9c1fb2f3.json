{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-f2aac72a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"edit-child-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Éditer l'Enfant\", -1));\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"nom\",\n  class: \"form-label\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-user\"\n}), /*#__PURE__*/_createTextVNode(\" Nom:\")], -1));\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"prenom\",\n  class: \"form-label\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-user\"\n}), /*#__PURE__*/_createTextVNode(\" Prénom:\")], -1));\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"date_naissance\",\n  class: \"form-label\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-calendar\"\n}), /*#__PURE__*/_createTextVNode(\" Date de naissance:\")], -1));\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"niveau\",\n  class: \"form-label\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-graduation-cap\"\n}), /*#__PURE__*/_createTextVNode(\" Niveau:\")], -1));\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"photo\",\n  class: \"form-label\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-camera\"\n}), /*#__PURE__*/_createTextVNode(\" Photo:\")], -1));\nconst _hoisted_13 = {\n  key: 0,\n  class: \"photo-preview\"\n};\nconst _hoisted_14 = [\"src\"];\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"form-submit\"\n}, \"Enregistrer les modifications\", -1));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"])),\n    class: \"edit-child-form\"\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"nom\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.child.nom = $event),\n    class: \"form-input\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.child.nom]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"prenom\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.child.prenom = $event),\n    class: \"form-input\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.child.prenom]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    id: \"date_naissance\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.child.date_naissance = $event),\n    class: \"form-input\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.child.date_naissance]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"niveau\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.child.niveau = $event),\n    class: \"form-input\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.child.niveau]])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _createElementVNode(\"input\", {\n    type: \"file\",\n    id: \"photo\",\n    onChange: _cache[4] || (_cache[4] = (...args) => $options.onFileChange && $options.onFileChange(...args)),\n    class: \"form-input\",\n    accept: \"image/*\"\n  }, null, 32), $data.child.photo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createElementVNode(\"img\", {\n    src: $data.child.photo,\n    alt: \"Photo de l'enfant\"\n  }, null, 8, _hoisted_14)])) : _createCommentVNode(\"\", true)]), _hoisted_15], 32), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.deleteChild && $options.deleteChild(...args)),\n    class: \"form-delete\"\n  }, \"Supprimer l'enfant\")]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","_createTextVNode","key","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_3","_hoisted_4","id","$event","$data","child","nom","required","_hoisted_5","_hoisted_6","prenom","_hoisted_7","_hoisted_8","date_naissance","_hoisted_9","_hoisted_10","niveau","_hoisted_11","_hoisted_12","onChange","onFileChange","accept","photo","_hoisted_13","src","alt","_hoisted_14","_createCommentVNode","_hoisted_15","onClick","deleteChild"],"sources":["C:\\app_ginf1\\Frontend\\src\\components\\EditChild.vue"],"sourcesContent":["<template>\r\n  <div class=\"edit-child-container\">\r\n    <h1>Éditer l'Enfant</h1>\r\n    <form @submit.prevent=\"submitForm\" class=\"edit-child-form\">\r\n      <div class=\"form-group\">\r\n        <label for=\"nom\" class=\"form-label\"><i class=\"fas fa-user\"></i> Nom:</label>\r\n        <input type=\"text\" id=\"nom\" v-model=\"child.nom\" class=\"form-input\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"prenom\" class=\"form-label\"><i class=\"fas fa-user\"></i> Prénom:</label>\r\n        <input type=\"text\" id=\"prenom\" v-model=\"child.prenom\" class=\"form-input\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"date_naissance\" class=\"form-label\"><i class=\"fas fa-calendar\"></i> Date de naissance:</label>\r\n        <input type=\"date\" id=\"date_naissance\" v-model=\"child.date_naissance\" class=\"form-input\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"niveau\" class=\"form-label\"><i class=\"fas fa-graduation-cap\"></i> Niveau:</label>\r\n        <input type=\"text\" id=\"niveau\" v-model=\"child.niveau\" class=\"form-input\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"photo\" class=\"form-label\"><i class=\"fas fa-camera\"></i> Photo:</label>\r\n        <input type=\"file\" id=\"photo\" @change=\"onFileChange\" class=\"form-input\" accept=\"image/*\">\r\n        <div v-if=\"child.photo\" class=\"photo-preview\">\r\n          <img :src=\"child.photo\" alt=\"Photo de l'enfant\">\r\n        </div>\r\n      </div>\r\n      <button type=\"submit\" class=\"form-submit\">Enregistrer les modifications</button>\r\n    </form>\r\n    <button @click=\"deleteChild\" class=\"form-delete\">Supprimer l'enfant</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'EditChild',\r\n  data() {\r\n    return {\r\n      child: {\r\n        nom: '',\r\n        prenom: '',\r\n        date_naissance: '',\r\n        niveau: '',\r\n        photo: null,\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.loadChildData();\r\n  },\r\n  methods: {\r\n    async loadChildData() {\r\n      const childId = this.$route.params.id;\r\n      try {\r\n        const response = await axios.get(`${process.env.VUE_APP_API_URL}/api/children/${childId}`);\r\n        this.child = response.data;\r\n      } catch (error) {\r\n        console.error('Erreur lors de la récupération des données de l\\'enfant:', error);\r\n      }\r\n    },\r\n    onFileChange(e) {\r\n      const file = e.target.files[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.child.photo = e.target.result;\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    },\r\n    async submitForm() {\r\n      const childId = this.$route.params.id;\r\n      try {\r\n        // Préparez les données du formulaire pour l'envoi\r\n        const formData = new FormData();\r\n        formData.append('nom', this.child.nom);\r\n        formData.append('prenom', this.child.prenom);\r\n        formData.append('date_naissance', this.child.date_naissance);\r\n        formData.append('niveau', this.child.niveau);\r\n        if (this.child.photo) {\r\n          formData.append('photo', this.dataURLtoBlob(this.child.photo));\r\n        }\r\n\r\n        // Envoyez les données au backend\r\n        await axios.post(`${process.env.VUE_APP_API_URL}/api/children/${childId}`, formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        });\r\n\r\n        // Redirigez vers la liste des enfants après l'édition\r\n        this.$router.push({ name: 'userchildren' });\r\n      } catch (error) {\r\n        console.error('Erreur lors de l\\'enregistrement des modifications:', error);\r\n      }\r\n    },\r\n    async deleteChild() {\r\n      const childId = this.$route.params.id;\r\n      try {\r\n        await axios.delete(`${process.env.VUE_APP_API_URL}/api/children/${childId}`);\r\n        this.$router.push({ name: 'userchildren' });\r\n      } catch (error) {\r\n        console.error('Erreur lors de la suppression de l\\'enfant:', error);\r\n      }\r\n    },\r\n    dataURLtoBlob(dataURL) {\r\n      const arr = dataURL.split(',');\r\n      const mime = arr[0].match(/:(.*?);/)[1];\r\n      const bstr = atob(arr[1]);\r\n      let n = bstr.length;\r\n      const u8arr = new Uint8Array(n);\r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n      }\r\n      return new Blob([u8arr], { type: mime });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.edit-child-container {\r\n  max-width: 600px;\r\n  margin: 40px auto;\r\n  padding: 20px;\r\n  background: #f9f9f9;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n}\r\n\r\nh1 {\r\n  font-family: 'Baloo Bhaijaan 2', cursive;\r\n  color: #34495e;\r\n  font-size: 2.5rem;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.edit-child-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n  text-align: left;\r\n}\r\n\r\n.form-label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  color: #333;\r\n  font-weight: bold;\r\n}\r\n\r\n.form-input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  border: 2px solid #ddd;\r\n  transition: border-color 0.3s;\r\n}\r\n\r\n.form-input:focus {\r\n  border-color: #3498db;\r\n}\r\n\r\n.photo-preview {\r\n  margin-top: 10px;\r\n}\r\n\r\n.photo-preview img {\r\n  max-width: 100px;\r\n  max-height: 100px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.form-submit {\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 1rem;\r\n  background-color: #3498db;\r\n  color: white;\r\n  transition: background-color 0.3s, box-shadow 0.3s;\r\n}\r\n\r\n.form-submit:hover {\r\n  background-color: #2980b9;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.form-submit:active {\r\n  background-color: #1e5d8b;\r\n}\r\n\r\n.form-delete {\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 1rem;\r\n  background-color: #e74c3c;\r\n  color: white;\r\n  transition: background-color 0.3s, box-shadow 0.3s;\r\n  margin-top: 20px;\r\n}\r\n\r\n.form-delete:hover {\r\n  background-color: #c0392b;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.form-delete:active {\r\n  background-color: #a93226;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}