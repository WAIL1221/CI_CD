{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'AjouterActivite',\n  data() {\n    return {\n      activite: {\n        titre: '',\n        description: '',\n        objectifs: '',\n        domaine: '',\n        lien_youtube: ''\n      },\n      image_pub: null,\n      message: ''\n    };\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.image_pub = event.target.files[0];\n    },\n    submitForm() {\n      const formData = new FormData();\n      formData.append('titre', this.activite.titre);\n      formData.append('description', this.activite.description);\n      formData.append('objectifs', this.activite.objectifs);\n      formData.append('domaine', this.activite.domaine);\n      formData.append('lien_youtube', this.activite.lien_youtube);\n      if (this.image_pub) {\n        formData.append('image_pub', this.image_pub);\n      }\n      axios.post('http://localhost:8000/api/create/activity/', formData).then(response => {\n        console.log('Activité ajoutée:', response.data);\n        this.message = 'Activité ajoutée avec succès!';\n        this.activite = {\n          titre: '',\n          description: '',\n          objectifs: '',\n          domaine: '',\n          lien_youtube: ''\n        };\n        this.image_pub = null;\n        this.$refs.image.value = '';\n        this.$router.push('/AdminPgae');\n      }).catch(error => {\n        console.error('Erreur lors de l\\'ajout de l\\'activité:', error.response.data);\n        this.message = 'Erreur lors de l\\'ajout de l\\'activité : ' + error.response.data.detail;\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","activite","titre","description","objectifs","domaine","lien_youtube","image_pub","message","methods","handleFileUpload","event","target","files","submitForm","formData","FormData","append","post","then","response","console","log","$refs","image","value","$router","push","catch","error","detail"],"sources":["C:\\Users\\AL AZAMI\\Desktop\\frontend\\src\\components\\ADMIN\\AjouterActivite.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h2 class=\"text-center\">Ajouter une Activité</h2>\r\n    <form @submit.prevent=\"submitForm\" class=\"form\">\r\n      <div class=\"form-group\">\r\n        <label for=\"titre\">Titre de l'activité:</label>\r\n        <input type=\"text\" id=\"titre\" v-model=\"activite.titre\" required class=\"form-control\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"description\">Description:</label>\r\n        <textarea id=\"description\" v-model=\"activite.description\" required class=\"form-control\"></textarea>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"objectifs\">Objectifs:</label>\r\n        <textarea id=\"objectifs\" v-model=\"activite.objectifs\" required class=\"form-control\"></textarea>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"domaine\">Domaine:</label>\r\n        <input type=\"text\" id=\"domaine\" v-model=\"activite.domaine\" required class=\"form-control\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"image\">Image:</label>\r\n        <input type=\"file\" id=\"image\" @change=\"handleFileUpload\" required class=\"form-control\" ref=\"image\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"lien_youtube\">Lien YouTube:</label>\r\n        <input type=\"text\" id=\"lien_youtube\" v-model=\"activite.lien_youtube\" class=\"form-control\" />\r\n      </div>\r\n      <button type=\"submit\" class=\"btn btn-primary\">Ajouter</button>\r\n    </form>\r\n    <div v-if=\"message\" class=\"message\">\r\n      <p>{{ message }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'AjouterActivite',\r\n  data() {\r\n    return {\r\n      activite: {\r\n        titre: '',\r\n        description: '',\r\n        objectifs: '',\r\n        domaine: '',\r\n        lien_youtube: ''\r\n      },\r\n      image_pub: null,\r\n      message: ''\r\n    };\r\n  },\r\n  methods: {\r\n    handleFileUpload(event) {\r\n      this.image_pub = event.target.files[0];\r\n    },\r\n    submitForm() {\r\n      const formData = new FormData();\r\n      formData.append('titre', this.activite.titre);\r\n      formData.append('description', this.activite.description);\r\n      formData.append('objectifs', this.activite.objectifs);\r\n      formData.append('domaine', this.activite.domaine);\r\n      formData.append('lien_youtube', this.activite.lien_youtube);\r\n      if (this.image_pub) {\r\n        formData.append('image_pub', this.image_pub);\r\n      }\r\n\r\n      axios.post('http://localhost:8000/api/create/activity/', formData)\r\n        .then(response => {\r\n          console.log('Activité ajoutée:', response.data);\r\n          this.message = 'Activité ajoutée avec succès!';\r\n          this.activite = {\r\n            titre: '',\r\n            description: '',\r\n            objectifs: '',\r\n            domaine: '',\r\n            lien_youtube: ''\r\n          };\r\n          this.image_pub = null;\r\n          this.$refs.image.value = '';\r\n          this.$router.push('/AdminPgae');\r\n        })\r\n        .catch(error => {\r\n          console.error('Erreur lors de l\\'ajout de l\\'activité:', error.response.data);\r\n          this.message = 'Erreur lors de l\\'ajout de l\\'activité : ' + error.response.data.detail;\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background: #f9f9f9;\r\n  border-radius: 8px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n}\r\n.text-center {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n}\r\n.form-control {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n.btn {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  background: #007BFF;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n}\r\n.btn:hover {\r\n  background: #0056b3;\r\n}\r\n.message {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n  font-size: 1.2rem;\r\n  color: #d9534f;\r\n}\r\n</style>\r\n"],"mappings":";AAqCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,SAAS,EAAE,EAAE;QACbC,OAAO,EAAE,EAAE;QACXC,YAAY,EAAE;MAChB,CAAC;MACDC,SAAS,EAAE,IAAI;MACfC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,KAAK,EAAE;MACtB,IAAI,CAACJ,SAAQ,GAAII,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACxC,CAAC;IACDC,UAAUA,CAAA,EAAG;MACX,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAChB,QAAQ,CAACC,KAAK,CAAC;MAC7Ca,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAAChB,QAAQ,CAACE,WAAW,CAAC;MACzDY,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAE,IAAI,CAAChB,QAAQ,CAACG,SAAS,CAAC;MACrDW,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAE,IAAI,CAAChB,QAAQ,CAACI,OAAO,CAAC;MACjDU,QAAQ,CAACE,MAAM,CAAC,cAAc,EAAE,IAAI,CAAChB,QAAQ,CAACK,YAAY,CAAC;MAC3D,IAAI,IAAI,CAACC,SAAS,EAAE;QAClBQ,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAE,IAAI,CAACV,SAAS,CAAC;MAC9C;MAEAT,KAAK,CAACoB,IAAI,CAAC,4CAA4C,EAAEH,QAAQ,EAC9DI,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEF,QAAQ,CAACpB,IAAI,CAAC;QAC/C,IAAI,CAACQ,OAAM,GAAI,+BAA+B;QAC9C,IAAI,CAACP,QAAO,GAAI;UACdC,KAAK,EAAE,EAAE;UACTC,WAAW,EAAE,EAAE;UACfC,SAAS,EAAE,EAAE;UACbC,OAAO,EAAE,EAAE;UACXC,YAAY,EAAE;QAChB,CAAC;QACD,IAAI,CAACC,SAAQ,GAAI,IAAI;QACrB,IAAI,CAACgB,KAAK,CAACC,KAAK,CAACC,KAAI,GAAI,EAAE;QAC3B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,YAAY,CAAC;MACjC,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdR,OAAO,CAACQ,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAACT,QAAQ,CAACpB,IAAI,CAAC;QAC7E,IAAI,CAACQ,OAAM,GAAI,2CAA0C,GAAIqB,KAAK,CAACT,QAAQ,CAACpB,IAAI,CAAC8B,MAAM;MACzF,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}