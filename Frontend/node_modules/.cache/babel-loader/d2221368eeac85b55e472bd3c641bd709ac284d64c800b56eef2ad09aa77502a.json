{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, withModifiers as _withModifiers, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-d21a9130\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"sign-up\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Inscription\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Nom d'utilisateur\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"Email:\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"Mot de passe:\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"confirm password :\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"S'inscrire\")], -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"already-registered\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_NavBar), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.name]])]), _createElementVNode(\"div\", null, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.email = $event),\n    onBlur: _cache[2] || (_cache[2] = (...args) => $options.validateEmail && $options.validateEmail(...args)),\n    required: \"\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.user.email]]), $data.emailError ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString($data.emailError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.user.password = $event),\n    onBlur: _cache[4] || (_cache[4] = (...args) => $options.validatePassword && $options.validatePassword(...args)),\n    required: \"\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.user.password]]), $data.passwordError ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString($data.passwordError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_hoisted_8, _createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password_confirmation\",\n    onBlur: _cache[5] || (_cache[5] = (...args) => $options.validatePassword && $options.validatePassword(...args)),\n    required: \"\"\n  }, null, 32 /* NEED_HYDRATION */), $data.passwordError ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, _toDisplayString($data.passwordError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _hoisted_10, _createElementVNode(\"p\", _hoisted_11, [_createTextVNode(\"Déjà inscrit ? \"), _createVNode(_component_router_link, {\n    to: \"/signin\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Connectez-vous\")]),\n    _: 1 /* STABLE */\n  })])], 32 /* NEED_HYDRATION */)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","for","key","type","_createElementBlock","_Fragment","_createVNode","_component_NavBar","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_3","id","$event","$data","user","name","required","_hoisted_4","email","onBlur","validateEmail","emailError","_hoisted_5","_toDisplayString","_createCommentVNode","_hoisted_6","password","validatePassword","passwordError","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_createTextVNode","_component_router_link","to","default","_withCtx","_"],"sources":["C:\\Users\\AL AZAMI\\Desktop\\frontend\\src\\components\\SignUp.vue"],"sourcesContent":["<template>\r\n  <NavBar />\r\n  <div class=\"sign-up\">\r\n    <h1>Inscription</h1>\r\n    <form @submit.prevent=\"submitForm\">\r\n\r\n      <div>\r\n        <label for=\"name\">Nom d'utilisateur</label>\r\n        <input type=\"text\" id=\"name\" v-model=\"user.name\" required>\r\n      </div>\r\n\r\n      <div>\r\n        <label for=\"email\">Email:</label>\r\n        <input type=\"email\" id=\"email\" v-model=\"user.email\"  @blur=\"validateEmail\" required>\r\n        <span v-if=\"emailError\" class=\"error\">{{ emailError }}</span>\r\n      </div>\r\n\r\n      <div>\r\n        <label for=\"password\">Mot de passe:</label>\r\n        <input type=\"password\" id=\"password\" v-model=\"user.password\" @blur=\"validatePassword\" required>\r\n        <span v-if=\"passwordError\" class=\"error\">{{ passwordError }}</span>\r\n      </div>\r\n      <div>\r\n        <label for=\"password\">confirm password :</label>\r\n        <input type=\"password\" id=\"password\" name=\"password_confirmation\" @blur=\"validatePassword\" required>\r\n        <span v-if=\"passwordError\" class=\"error\">{{ passwordError }}</span>\r\n      </div>\r\n\r\n      <div>\r\n        <button type=\"submit\">S'inscrire</button>\r\n      </div>\r\n\r\n      <p class=\"already-registered\">Déjà inscrit ? <router-link to=\"/signin\">Connectez-vous</router-link></p>\r\n\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<!--<script>-->\r\n<!--//import axios from 'axios';-->\r\n<!--import NavBar from \"@/components/NavBar.vue\";-->\r\n<!--import axios from \"@/axios\";-->\r\n<!--axios.defaults.withCredentials = true;-->\r\n<!--axios.defaults.withXSRFToken = true;-->\r\n\r\n<!--async function getCSRFToken() {-->\r\n<!--    try {-->\r\n<!--        await axios.get('http://localhost:8000/api/sanctum/csrf-cookie');-->\r\n\r\n<!--    } catch (error) {-->\r\n<!--        console.error('Failed to fetch CSRF token:', error);-->\r\n<!--    }-->\r\n<!--}-->\r\n<!--export default {-->\r\n<!--  name: 'SignUp',-->\r\n<!--  components: { NavBar },-->\r\n<!--  data() {-->\r\n<!--    return {-->\r\n<!--      user: {-->\r\n\r\n<!--        name: '',-->\r\n<!--        email: '',-->\r\n<!--        password: '',-->\r\n<!--      },-->\r\n\r\n<!--      emailError: '',-->\r\n<!--      passwordError: ''-->\r\n<!--    };-->\r\n<!--  },-->\r\n<!--  methods: {-->\r\n<!--    validateEmail() {-->\r\n<!--      const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;-->\r\n<!--      if (!re.test(this.user.email)) {-->\r\n<!--        this.emailError = 'Veuillez entrer un email valide';-->\r\n<!--      } else {-->\r\n<!--        this.emailError = '';-->\r\n<!--      }-->\r\n<!--    },-->\r\n<!--    validatePassword() {-->\r\n<!--      if (this.user.password.length < 8) {-->\r\n<!--        this.passwordError = 'Le mot de passe doit contenir au moins 8 caractères';-->\r\n<!--      } else {-->\r\n<!--        this.passwordError = '';-->\r\n<!--      }-->\r\n<!--    },-->\r\n<!--    submitForm() {-->\r\n<!--      this.validateEmail();-->\r\n<!--      this.validatePassword();-->\r\n<!--      if (this.emailError || this.passwordError) {-->\r\n<!--        return;-->\r\n<!--      }-->\r\n<!--      getCSRFToken().then(()=>{-->\r\n\r\n<!--        axios.post('http://localhost:8000/api/register-parent', this.user)-->\r\n<!--        .then(response => {-->\r\n<!--          alert('Inscription réussie!');-->\r\n<!--          console.log(response.data);-->\r\n<!--          this.$router.push('/signin');-->\r\n<!--        })-->\r\n<!--        .catch(error => {-->\r\n<!--          console.error('Erreur lors de l\\'inscription:', error);-->\r\n<!--          alert(error.response.data.message);-->\r\n<!--        });-->\r\n\r\n\r\n<!--      })-->\r\n\r\n<!--    }-->\r\n<!--  }-->\r\n<!--};-->\r\n<!--</script>-->\r\n\r\n<script>\r\nimport NavBar from \"@/components/NavBar.vue\";\r\nimport axios from \"@/axios\";\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\nasync function getCSRFToken() {\r\n    try {\r\n        await axios.get('/api/sanctum/csrf-cookie');\r\n    } catch (error) {\r\n        console.error('Failed to fetch CSRF token:', error);\r\n    }\r\n}\r\n\r\nexport default {\r\n  name: 'SignUp',\r\n  components: { NavBar },\r\n  data() {\r\n    return {\r\n      user: {\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        password: '',\r\n      },\r\n      emailError: '',\r\n      passwordError: ''\r\n    };\r\n  },\r\n  methods: {\r\n    validateEmail() {\r\n      const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      if (!re.test(this.user.email)) {\r\n        this.emailError = 'Veuillez entrer un email valide';\r\n      } else {\r\n        this.emailError = '';\r\n      }\r\n    },\r\n    validatePassword() {\r\n      if (this.user.password.length < 8) {\r\n        this.passwordError = 'Le mot de passe doit contenir au moins 8 caractères';\r\n      } else {\r\n        this.passwordError = '';\r\n      }\r\n    },\r\n    async submitForm() {\r\n      this.validateEmail();\r\n      this.validatePassword();\r\n      if (this.emailError || this.passwordError) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await getCSRFToken();\r\n        const response = await axios.post('/api/register-parent', this.user);\r\n        alert('Inscription réussie!');\r\n        console.log(response.data);\r\n        this.$router.push('/signin');\r\n      } catch (error) {\r\n        console.error('Erreur lors de l\\'inscription:', error);\r\n        alert(error.response?.data?.message || 'Erreur inconnue');\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.sign-up {\r\n  max-width: 350px;\r\n  margin: 40px auto;\r\n  padding: 25px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n  border-radius: 8px;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  color: #333;\r\n  margin-bottom: 20px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  color: #333;\r\n  font-weight: 600;\r\n}\r\n\r\ninput[type=\"text\"],\r\ninput[type=\"email\"],\r\ninput[type=\"password\"] {\r\n  width: 100%;\r\n  padding: 10px;\r\n  margin-bottom: 20px;\r\n  border: 2px solid transparent;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  transition: border-color 0.2s, box-shadow 0.2s;\r\n}\r\n\r\ninput[type=\"text\"]:focus,\r\ninput[type=\"email\"]:focus,\r\ninput[type=\"password\"]:focus {\r\n  border-color: #3498db;\r\n  box-shadow: 0 2px 4px rgba(50, 150, 250, 0.5);\r\n}\r\n\r\nbutton {\r\n  padding: 10px 20px;\r\n  border: none;\r\n  background-color: #3498db;\r\n  color: white;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  transition: background-color 0.3s, box-shadow 0.3s;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #2980b9;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\nbutton:active {\r\n  background-color: #2575b5;\r\n}\r\n\r\n.already-registered {\r\n  text-align: center;\r\n  margin-top: 15px;\r\n  color: #666;\r\n}\r\n\r\n.already-registered a {\r\n  color: #2980b9;\r\n  text-decoration: none;\r\n}\r\n\r\n.already-registered a:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n  font-size: 0.9em;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}